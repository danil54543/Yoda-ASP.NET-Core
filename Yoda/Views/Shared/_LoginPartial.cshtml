@using Microsoft.AspNetCore.Identity
@using Yoda.Data

@inject SignInManager<User> SignInManager
@inject UserManager<User> UserManager
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.1/css/bootstrap.min.css" integrity="sha512-6KY5s6UI5J7SVYuZB4S/CZMyPylqyyNZco376NM2Z8Sb8OxEdp02e1jkKk/wZxIEmjQ6DRCEBhni+gpr9c4tvA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<ul class="navbar-nav">
    @if (SignInManager.IsSignedIn(User))
    {
        <li href="#" class="d-flex align-items-center text-light dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">

            <span class="text-light text-end">@UserManager.GetUserName(User)</span>
            <ul class="dropdown-menu dropdown-menu-dark text-small shadow">
                <li><a class="dropdown-item">Notes</a></li>
                <li><a class="dropdown-item">Account</a></li>
                @if (User.IsInRole("Admin"))
                {
                    <li><a class="dropdown-item">Admin panel</a></li>
                }
                <li><hr class="dropdown-divider"></li>
                <li><a asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Action("Index", "Home", new { area = "" })" class="dropdown-item">Log out</a></li>
            </ul>
        </li>

    }
    else
    {
        <div class="col-md-12 text-end">
            <a class="btn-signup" id="register" asp-area="Identity" asp-page="/Account/Register">Sign In</a>
            <a class="btn-login" id="login" asp-area="Identity" asp-page="/Account/Login">Log In</a>
        </div>
    }
</ul>

<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.1/js/bootstrap.min.js" integrity="sha512-ewfXo9Gq53e1q1+WDTjaHAGZ8UvCWq0eXONhwDuIoaH8xz2r96uoAYaQCm1oQhnBfRXrvJztNXFsTloJfgbL5Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="~/lib/jquery/dist/jquery.min.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="~/js/site.js" asp-append-version="true"></script>
